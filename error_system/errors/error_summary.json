{
	"total_errors": 1,
	"last_error": {
		"error_code": "API-7CA17F7C",
		"message": "Unhandled exception: (sqlite3.IntegrityError) FOREIGN KEY constraint failed\n[SQL: UPDATE files SET schema_id=? WHERE files.id = ?]\n[parameters: (1, 1)]\n(Background on this error at: https://sqlalche.me/e/20/gkpj)",
		"user_message": "An error occurred. Please try again or contact support.",
		"severity": "error",
		"component": "api",
		"category": "system_error",
		"timestamp": "2025-10-16T03:26:36.783058",
		"context": {
			"user_id": null,
			"project_id": null,
			"file_id": null,
			"template_id": null,
			"request_id": null,
			"session_id": null,
			"additional_data": {}
		},
		"suggested_fix": null,
		"stack_trace": "Traceback (most recent call last):\n  File \"C:\\Users\\dbiss\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\engine\\base.py\", line 1967, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\dbiss\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\engine\\default.py\", line 951, in do_execute\n    cursor.execute(statement, parameters)\nsqlite3.IntegrityError: FOREIGN KEY constraint failed\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\dbiss\\AppData\\Roaming\\Python\\Python312\\site-packages\\starlette\\middleware\\errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"C:\\Users\\dbiss\\AppData\\Roaming\\Python\\Python312\\site-packages\\starlette\\middleware\\cors.py\", line 91, in __call__\n    await self.simple_response(scope, receive, send, request_headers=headers)\n  File \"C:\\Users\\dbiss\\AppData\\Roaming\\Python\\Python312\\site-packages\\starlette\\middleware\\cors.py\", line 146, in simple_response\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\dbiss\\AppData\\Roaming\\Python\\Python312\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\dbiss\\AppData\\Roaming\\Python\\Python312\\site-packages\\starlette\\_exception_handler.py\", line 55, in wrapped_app\n    raise exc\n  File \"C:\\Users\\dbiss\\AppData\\Roaming\\Python\\Python312\\site-packages\\starlette\\_exception_handler.py\", line 44, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\dbiss\\AppData\\Roaming\\Python\\Python312\\site-packages\\starlette\\routing.py\", line 746, in __call__\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\dbiss\\AppData\\Roaming\\Python\\Python312\\site-packages\\starlette\\routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\dbiss\\AppData\\Roaming\\Python\\Python312\\site-packages\\starlette\\routing.py\", line 75, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\dbiss\\AppData\\Roaming\\Python\\Python312\\site-packages\\starlette\\_exception_handler.py\", line 55, in wrapped_app\n    raise exc\n  File \"C:\\Users\\dbiss\\AppData\\Roaming\\Python\\Python312\\site-packages\\starlette\\_exception_handler.py\", line 44, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\dbiss\\AppData\\Roaming\\Python\\Python312\\site-packages\\starlette\\routing.py\", line 70, in app\n    response = await func(request)\n               ^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\dbiss\\AppData\\Roaming\\Python\\Python312\\site-packages\\fastapi\\routing.py\", line 299, in app\n    raise e\n  File \"C:\\Users\\dbiss\\AppData\\Roaming\\Python\\Python312\\site-packages\\fastapi\\routing.py\", line 294, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\dbiss\\AppData\\Roaming\\Python\\Python312\\site-packages\\fastapi\\routing.py\", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\dbiss\\OneDrive\\Desktop\\AI Document Generator\\backend\\api\\file_routes.py\", line 244, in update_file\n    db.commit()\n  File \"C:\\Users\\dbiss\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\orm\\session.py\", line 2032, in commit\n    trans.commit(_to_root=True)\n  File \"<string>\", line 2, in commit\n  File \"C:\\Users\\dbiss\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 137, in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\dbiss\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\orm\\session.py\", line 1313, in commit\n    self._prepare_impl()\n  File \"<string>\", line 2, in _prepare_impl\n  File \"C:\\Users\\dbiss\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 137, in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\dbiss\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\orm\\session.py\", line 1288, in _prepare_impl\n    self.session.flush()\n  File \"C:\\Users\\dbiss\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\orm\\session.py\", line 4345, in flush\n    self._flush(objects)\n  File \"C:\\Users\\dbiss\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\orm\\session.py\", line 4480, in _flush\n    with util.safe_reraise():\n         ^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\dbiss\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\dbiss\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\orm\\session.py\", line 4441, in _flush\n    flush_context.execute()\n  File \"C:\\Users\\dbiss\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"C:\\Users\\dbiss\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"C:\\Users\\dbiss\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 85, in save_obj\n    _emit_update_statements(\n  File \"C:\\Users\\dbiss\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 912, in _emit_update_statements\n    c = connection.execute(\n        ^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\dbiss\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\engine\\base.py\", line 1419, in execute\n    return meth(\n           ^^^^^\n  File \"C:\\Users\\dbiss\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\sql\\elements.py\", line 526, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\dbiss\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\engine\\base.py\", line 1641, in _execute_clauseelement\n    ret = self._execute_context(\n          ^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\dbiss\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\engine\\base.py\", line 1846, in _execute_context\n    return self._exec_single_context(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\dbiss\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\engine\\base.py\", line 1986, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"C:\\Users\\dbiss\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\engine\\base.py\", line 2355, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\dbiss\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\engine\\base.py\", line 1967, in _exec_single_context\n    self.dialect.do_execute(\n  File \"C:\\Users\\dbiss\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\engine\\default.py\", line 951, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) FOREIGN KEY constraint failed\n[SQL: UPDATE files SET schema_id=? WHERE files.id = ?]\n[parameters: (1, 1)]\n(Background on this error at: https://sqlalche.me/e/20/gkpj)\n"
	},
	"errors_by_component": {
		"api": 1
	},
	"errors_by_severity": {
		"error": 1
	},
	"last_updated": "2025-10-16T03:26:37.083065"
}
